ID3v2={parseStream:function(d,f){function c(a,b){d(a,b,r)}function i(a){for(var b="",c=0,e=a.length,h,n,o,f,d,g;c<e;)h=a.charCodeAt(c++),n=a.charCodeAt(c++),o=a.charCodeAt(c++),f=h>>2,h=(h&3)<<4|n>>4,d=(n&15)<<2|o>>6,g=o&63,isNaN(n)?d=g=64:isNaN(o)&&(g=64),b=b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g);
return b}function g(a){a=a.toString(2);return Array(8-a.length+1).join("0")+a}function j(a){if(4==a.length){if(3<e.revision)var b=a[0]<<21,b=b+(a[1]<<14),b=b+(a[2]<<7);else b=a[0]<<24,b+=a[1]<<16,b+=a[2]<<8;b+=a[3]}else b=a[0]<<16,b+=a[1]<<8,b+=a[2];return b}function m(a){a.charCodeAt(0);var a=a.substr(1),b=a.indexOf("\x00"),c=a.substr(0,b),a=a.substr(b+1),b=a.charCodeAt(0),b=s[b.toString(16).toUpperCase()],a=a.substr(1),e=a.indexOf("\x00"),h=a.substr(0,e),a=a.substr(e+1),a=a.split("").map(function(a){return String.fromCharCode(a.charCodeAt(0)&
255)}).join("");return{dataURL:"data:"+c+";base64,"+i(a),PictureType:b,Description:h,MimeType:c}}function t(a){a.charCodeAt(0);var a=a.substr(1),b=a.substr(0,3),a=a.substr(3),c=a.charCodeAt(0),c=s[c.toString(16).toUpperCase()],a=a.substr(1),e=a.indexOf("\x00"),h=a.substr(0,e),a=a.substr(e+1),a=a.split("").map(function(a){return String.fromCharCode(a.charCodeAt(0)&255)}).join("");return{dataURL:"data:img/"+b+";base64,"+i(a),PictureType:c,Description:h,MimeType:MimeType}}function q(){3>e.revision?c(3,
function(a){if(/[A-Z0-9]{3}/.test(a)){var b=u[a.substr(0,3)];v(a,b)}else f(e)}):c(4,function(a){/[A-Z0-9]{4}/.test(a)?w(a):f(e)})}function p(a){0!=a.indexOf("http://")&&(a.charCodeAt(0),a=a.substr(1));return a.replace(/[^A-Za-z0-9\(\)\{\}\[\]\!\@\#\$\%\^\&\* \/\"\'\;\>\<\?\,\~\`\.\n\t]/g,"")}function w(a){c(4,function(b,d){var f=j(d);c(2,function(b,d){d=g(d[0]).concat(g(d[1]));c(f,function(b,c){if("function"==typeof k[a])k[a](f,b,c);else l[a]?e[l[a]]=(e[l[a]]||"")+p(b):e[a]=p(b);q()})})})}function v(a,
b){c(3,function(d,f){var h=j(f);c(h,function(c,d){if("function"==typeof k[a])k[a](h,c,d);else if("function"==typeof k[b])k[b](h,c,d);else l[b]?e[l[b]]=(e[l[b]]||"")+p(c):e[b]=p(c);q()})})}var s={"0":"Other",1:"32x32 pixels 'file icon' (PNG only)",2:"Other file icon",3:"Cover (front)",4:"Cover (back)",5:"Leaflet page",6:"Media (e.g. lable side of CD)",7:"Lead artist/lead performer/soloist",8:"Artist/performer",9:"Conductor",A:"Band/Orchestra",B:"Composer",C:"Lyricist/text writer",D:"Recording Location",
E:"During recording",F:"During performance",10:"Movie/video screen capture",11:"A bright coloured fish",12:"Illustration",13:"Band/artist logotype",14:"Publisher/Studio logotype"},l={AENC:"Audio encryption",APIC:"Attached picture"},u={},e={pictures:[]},r=Infinity,k={APIC:function(a,b){e.pictures.push(m(b))},PIC:function(a,b){e.pictures.push(t(b))}};c(3,function(a){if("ID3"==a)c(2,function(a,d){e.version="ID3v2."+d[0]+"."+d[1];e.revision=d[0];c(1,function(a,b){b=g(b[0]);c(4,function(a,b){r=j(b);c(0,
function(){});q()})})});else return f(e),!1});return e},parseFile:function(d,f){var c=new FileReader,i=0,g=0,j=function(){},m="";c.onload=function(){m=c.result};(function(){if(m.length>i+g&&g){var c=m.substr(i,g),d=c.split("").map(function(c){return c.charCodeAt(0)&255});i+=g;g=0;if(!1===j(c,d))return}setTimeout(arguments.callee,0)})();c.readAsBinaryString(fileSlice(d,0,262144));return[c,ID3v2.parseStream(function(c,d){g=c;j=d;0==c&&d("",[])},f)]}};
function fileSlice(d,f,c){if(d.mozSlice)return d.mozSlice(f,f+c);if(d.webkitSlice)return d.webkitSlice(f,f+c);if(d.slice)return d.slice(f,c)};